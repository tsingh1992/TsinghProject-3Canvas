<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8" />
  <title>index</title>
  <body onload="init()">
  <input type = "text" id = "inputUserName"  value = "Enter your name" size="50"  style="font-size:18px; color:#AF2E1F; text-align: center; margin-left:25px " /></br>
   <canvas id="canvas" width="500" height="400"></canvas>
   <img alt="Layer 0" id="image1" style="display: none" src="image1.png" />
   <img alt="Layer 0" id="image2" style="display: none" src="image2.png" />
   <img alt="Layer 0" id="image3" style="display: none" src="image3.png" />
   <img alt="Layer 0" id="image4" style="display: none" src="image4.png" />
   <img alt="Layer 0" id="image5" style="display: none" src="image5.png" />
   <img alt="rocket" id="image6" style="display: none" src="rocket.png" />
   
   <div>
	<canvas id="myDrawCanvas" width="500" height = "400" style="position:absolute; top:25px; left:575px; z-index:3; border:dotted 2px #bcbcbc"> 
		<INPUT TYPE ="Button" VALUE="DrawRrandomShapes " onClick="drawOnCanvas()">
	</canvas> 
  </div>
  
  <div>
	<canvas id="c6" width="500" height = "100" style="border:dotted 2px #FF0000;"></canvas>
		<div>
		<button onclick="showFillText();return true;">Fill Text</button>
		<button onclick="showStrokeText();return true;">Stroke Text</button>
		<button onclick="Clear_text();return true;">Erase Everything</button>
		<INPUT TYPE ="Button" VALUE="DrawRrandomShapes " onClick="drawOnCanvas()">
		</div>
   </div>
 </body> 
<script>
  var c6 = document.getElementById("c6");
  var c6_context = c6.getContext("2d");
  
  function showFillText() {
  c6_context.fillStyle = '#7B68EE';
  c6_context.font = 'italic bold 30px sans-serif';
  c6_context.textBaseline = 'bottom';
  var userName = document.getElementById("inputUserName").value;
  c6_context.fillText( userName + ': Welcome to *Star Wars*', 10, 30);
  }
  
  function showStrokeText() {
    c6_context.strokeStyle = "##0000CD";
  c6_context.font = '30px san-serif';
  c6_context.textBaseline = 'bottom';
  c6_context.strokeText('Never tell me the odds!', 40, 60);
  c6_context.strokeText('Iâ€™m not afraid. You will be....',90, 90);
  }
  
  function Clear_text() {
  c6_context.clearRect(1, 1, 700, 300);
  } 
  
  function drawOnCanvas () {
	var myDrawCanvasObject = document.getElementById("myDrawCanvas");
	if ( myDrawCanvasObject.getContext ) { 
		var myDrawCanvasObject_context = myDrawCanvasObject.getContext("2d");
		//alert("test if the 2D myDrawCanvasObject_context supported");
		
			function drawCustomShape(){
				// begin custom shape
			  myDrawCanvasObject_context.beginPath();
			  myDrawCanvasObject_context.moveTo(170, 80);
			  myDrawCanvasObject_context.bezierCurveTo(130, 100, 130, 150, 230, 150);
			  myDrawCanvasObject_context.bezierCurveTo(250, 180, 320, 180, 340, 150);
			  myDrawCanvasObject_context.bezierCurveTo(420, 150, 420, 120, 390, 100);
			  myDrawCanvasObject_context.bezierCurveTo(430, 40, 370, 30, 340, 50);
			  myDrawCanvasObject_context.bezierCurveTo(320, 5, 250, 20, 250, 50);
			  myDrawCanvasObject_context.bezierCurveTo(200, 5, 150, 20, 170, 80);
			  // complete custom shape
			  myDrawCanvasObject_context.closePath();
			  myDrawCanvasObject_context.lineWidth = 5;
			  myDrawCanvasObject_context.strokeStyle = 'blue';
			  myDrawCanvasObject_context.stroke();
			}
			function drawRect(){
			  //three methods for rectangle 
			  myDrawCanvasObject_context.fillRect( 20, 100, 100, 50 );
			  myDrawCanvasObject_context.strokeRect( 20, 30, 100, 50 );
			  myDrawCanvasObject_context.clearRect( 35, 110, 50, 30 );
			 }

			function drawCricle(){
			  //Gradient setup
				var lin_grad = myDrawCanvasObject_context.createLinearGradient( 0, 0, 0, 400 );
				//set the start and stop color 
				lin_grad.addColorStop(0, "#fc007b" );
				lin_grad.addColorStop(0.5, "#c90062" );
				lin_grad.addColorStop(1, "#fd99ca" );
				//set up the canvas rectangle
				//myDrawCanvasObject_context.fillStyle = lin_grad;
				//myDrawCanvasObject_context.fillRect(0, 0, 400, 400);
				
			  //circle with above gradient
			  var start_degrees = 0;
				var start_angle = ( Math.PI/180 ) * start_degrees;
				var end_degrees = 360;
				var end_angle = ( Math.PI/180 ) * end_degrees;
				myDrawCanvasObject_context.beginPath();
				myDrawCanvasObject_context.arc(75,275,50,start_angle, end_angle,true);
				myDrawCanvasObject_context.strokeStyle = "rgb( 0,222,0 )";
				myDrawCanvasObject_context.stroke();
				//apply gradient 
				myDrawCanvasObject_context.fillStyle = lin_grad;
				myDrawCanvasObject_context.fill();
				//myDrawCanvasObject_context.fillStyle = "rgb( 0,222,0 )";
				//myDrawCanvasObject_context.fill();
			 }
			
			function drawTriangle(){
			  //triangle in cloud 
			  myDrawCanvasObject_context.beginPath()
			  myDrawCanvasObject_context.moveTo(275,200);
			  myDrawCanvasObject_context.lineTo(350,300);
			  myDrawCanvasObject_context.lineTo(350, 125);
			  myDrawCanvasObject_context.closePath();
			  myDrawCanvasObject_context.stroke();
			  myDrawCanvasObject_context.fillStyle = "rgb(255,0,0)";
				myDrawCanvasObject_context.strokeStyle = "rgb( 0, 0, 255 )";
				myDrawCanvasObject_context.lineWidth = 5;
				myDrawCanvasObject_context.stroke();
				myDrawCanvasObject_context.fill();
			}
				
			function drawV(){
				//V shape
				myDrawCanvasObject_context.beginPath();
				myDrawCanvasObject_context.lineWidth = 20;
				myDrawCanvasObject_context.lineJoin = "round";
				//(x,y) on the scale plane
				myDrawCanvasObject_context.moveTo(275, 250);
				myDrawCanvasObject_context.lineTo(350, 350);
				myDrawCanvasObject_context.lineTo(430, 250);
				myDrawCanvasObject_context.stroke();
				}
			}
			var functions = [drawCustomShape, drawRect, drawCricle, drawTriangle, drawV];
			setInterval(function(){
			   functions[Math.floor(Math.random()*functions.length)]();
			}, 200);
}
  

</script>
  <script src="TsinghCanvas.js"></script>
  <script>

    // Main canvas and context references
    var canvas;
    var ctx;

    // Frames per second
    var fps = 60.0;

    // Animations
    var animations = [ new asteroidPath(), new asteroid2Path(), new alienPath(), new rocketPath() ];

    function asteroidPath() {

      // Control and anchor points
      this.points = [
                    [ [396.7, 443.1], [472.2, 362.8], [547.6, 282.4], [625.4, 199.6] ]
                    ];

      // Linear motion index
      this.linear = [
                    [0, 0.00, 0.00], [0, 0.17, 0.17], [0, 0.34, 0.33], [0, 0.50, 0.50], 
                    [0, 0.67, 0.67], [0, 0.84, 0.83], [0, 1.00, 1.00]
                    ];

      // Segment T boundaries
      this.segmentT = [1.00];

      this.lastValue = -1.0;
      this.x = 0;
      this.y = 0;
      this.orientation = 0.0;
      this.pathClock = new clock(4.00, 0.00, 1, false, 1, quintEaseOut, this.linear.length - 1, 1.00, 0.0000);

      // Update function
      this.update = updatePath;
    }

    function asteroid2Path() {

      // Control and anchor points
      this.points = [
                    [ [799.9, 425.3], [760.3, 357.9], [720.8, 290.6], [680.0, 221.1] ]
                    ];

      // Linear motion index
      this.linear = [
                    [0, 0.00, 0.00], [0, 0.25, 0.25], [0, 0.50, 0.50], [0, 0.75, 0.75], 
                    [0, 1.00, 1.00]
                    ];

      // Segment T boundaries
      this.segmentT = [1.00];

      this.lastValue = -1.0;
      this.x = 0;
      this.y = 0;
      this.orientation = 0.0;
      this.pathClock = new clock(4.00, 0.00, 1, false, 1, quintEaseOut, this.linear.length - 1, 1.00, 0.0000);

      // Update function
      this.update = updatePath;
    }

    function alienPath() {

      // Control and anchor points
      this.points = [
                    [ [265.0, 136.8], [352.6, 139.4], [440.2, 141.9], [530.5, 144.5] ]
                    ];

      // Linear motion index
      this.linear = [
                    [0, 0.00, 0.00], [0, 0.20, 0.20], [0, 0.40, 0.40], [0, 0.60, 0.60], 
                    [0, 0.80, 0.80], [0, 1.00, 1.00]
                    ];

      // Segment T boundaries
      this.segmentT = [1.00];

      this.lastValue = -1.0;
      this.x = 0;
      this.y = 0;
      this.orientation = 0.0;
      this.pathClock = new clock(10.00, 0.00, 1, false, 0, linear, this.linear.length - 1, 1.00, 0.0000);

      // Update function
      this.update = updatePath;
    }

    function rocketPath() {

      // Control and anchor points
      this.points = [
                    [ [125.8, 469.7], [201.3, 381.9], [231.0, 285.5], [331.7, 251.6] ],
                    [ [331.7, 251.6], [432.4, 217.8], [416.3, 249.3], [514.6, 275.4] ],
                    [ [514.6, 275.4], [613.0, 301.4], [701.5, 281.1], [740.0, 248.6] ]
                    ];

      // Linear motion index
      this.linear = [
                    [0, 0.00, 0.00], [0, 0.15, 0.07], [0, 0.32, 0.14], [0, 0.49, 0.21], 
                    [0, 0.67, 0.29], [0, 0.85, 0.36], [1, 0.03, 0.43], [1, 0.26, 0.50], 
                    [1, 0.63, 0.57], [1, 0.90, 0.64], [2, 0.08, 0.71], [2, 0.27, 0.79], 
                    [2, 0.47, 0.86], [2, 0.71, 0.93], [2, 1.00, 1.00]
                    ];

      // Segment T boundaries
      this.segmentT = [0.42, 0.68, 1.00];

      this.lastValue = -1.0;
      this.x = 0;
      this.y = 0;
      this.orientation = 0.0;
      this.pathClock = new clock(10.00, 0.00, 1, false, 0, linear, this.linear.length - 1, 1.00, 0.0000);

      // Update function
      this.update = updatePath;
    }

    function init() {

      // Set main canvas and context references
      canvas = document.getElementById("canvas");
      ctx = canvas.getContext("2d");

      // Initialize animations
      asteroid.scaleClock = new clock(10.00, 0.00, -1, false, 1, quintEaseIn, 1.0, 1.00, 0.0001);
      asteroid2.scaleClock = new clock(8.00, 0.00, -1, false, 1, quintEaseIn, 1.0, 1.00, 0.0001);
      alien.scaleClock = new clock(38.00, 0.00, -1, false, 1, quintEaseIn, 1.0, 1.00, 0.0001);
      spaceStation.scaleClock = new clock(5.00, 0.00, 1, false, 1, expoEaseOut, 1.0, 11.00, 1.0000);
      spaceStation.alphaClock = new clock(6.00, 0.00, -1, false, 1, linear, 1.0, 1.00, 0.0000);
      rocket.followOrientation = 90.00 * Math.PI / 180.0;

      // Start animation clocks
      animations[0].pathClock.start();
      animations[1].pathClock.start();
      animations[2].pathClock.start();
      asteroid.scaleClock.start();
      animations[3].pathClock.start();
      asteroid2.scaleClock.start();
      alien.scaleClock.start();
      spaceStation.scaleClock.start();
      spaceStation.alphaClock.start();

      // Set animation timer
      setInterval(drawFrame, (1000 / fps));
    }

    function updateAnimations() {

      // Update animation clocks
      updateAllClocks();

      // Update animation paths  
      var animationCount = animations.length;
      for (var i = 0; i < animationCount; i++) {
        animations[i].update();
      }
    }

    function drawFrame() {

      // Update animations
      updateAnimations();

      // Clear canvas
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      stars(ctx);

      ctx.save();
      ctx.translate(animations[0].x, animations[0].y);
      ctx.scale(asteroid.scaleClock.value, asteroid.scaleClock.value);
      asteroid(ctx);
      ctx.restore();

      ctx.save();
      ctx.translate(animations[0].x, animations[0].y);
      ctx.scale(asteroid2.scaleClock.value, asteroid2.scaleClock.value);
      asteroid2(ctx);
      ctx.restore();

      ctx.save();
      ctx.translate(animations[0].x, animations[0].y);
      ctx.scale(alien.scaleClock.value, alien.scaleClock.value);
      alien(ctx);
      ctx.restore();

      ctx.save();
      ctx.translate(702.0, 153.3);
      ctx.scale(spaceStation.scaleClock.value, spaceStation.scaleClock.value);
      ctx.globalAlpha = spaceStation.alphaClock.value;
      spaceStation(ctx);
      ctx.restore();

      ctx.save();
      ctx.translate(animations[3].x, animations[3].y);
      ctx.rotate(rocket.followOrientation + animations[3].orientation);
      rocket(ctx);
      ctx.restore();

      draw(ctx);
    }

    function stars(ctx) {

      
      ctx.save();

    
      ctx.save();
      ctx.drawImage(document.getElementById("image1"), 0.0, 0.0);
      ctx.restore();
      ctx.restore();
    }

    function asteroid(ctx) {

      
      ctx.save();

      
      ctx.save();
      ctx.drawImage(document.getElementById("image2"), -73.9, -74.7);
      ctx.restore();
      ctx.restore();
    }

    function asteroid2(ctx) {

      
      ctx.save();

      
      ctx.save();
      ctx.drawImage(document.getElementById("image3"), -76.5, -80.6);
      ctx.restore();
      ctx.restore();
    }

    function alien(ctx) {

      
      ctx.save();

      
      ctx.save();
      ctx.drawImage(document.getElementById("image4"), -211.5, -144.6);

      
      ctx.restore();
      ctx.beginPath();
      ctx.moveTo(11.5, 144.6);
      ctx.lineTo(11.5, 144.6);
      ctx.restore();
    }

    function spaceStation(ctx) {

      
      ctx.save();

      
      ctx.save();
      ctx.drawImage(document.getElementById("image5"), -205.5, -105.7);
      ctx.restore();
      ctx.restore();
    }

    function rocket(ctx) {

      // rocket
      ctx.drawImage(document.getElementById("image6"), -44.0, -68.5);
    }

    function draw(ctx) {

      // layer9/
      ctx.save();
      ctx.restore();
    }
  </script>
 </head>
</html>
